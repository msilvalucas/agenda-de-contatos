<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Agenda de Contatos | Notre Dame</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="./css/styles.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
</head>

<body>
  <nav class="navbar navbar-light">
    <div class="container justify-content-center">
      <a class="navbar-brand m-0" href="#">
        <img src="./assets/logo.png" alt="Logo Notre Dame" />
      </a>
    </div>
  </nav>

  <div class="d-flex justify-content-center bg-fundo">
    <div class="container cadastro">
      <div class="row align-items-center">
        <div class="col-9 title">Cadastro de contatos</div>
        <div class="col-3 box-btn-cadastrar">
          <button type="button" class="btn-cadastrar w-75" data-bs-toggle="modal" data-bs-target="#modalNewRegister"
            onclick="abrirModalNovoContato()">
            Novo contato
          </button>
        </div>

        <div class="table-responsive-md">
          <table class="table">
            <thead>
              <tr>
                <th>Nome</th>
                <th>Telefone</th>
                <th>E-mail</th>
                <th>Cidade / Estado</th>
                <th>Categoria</th>
                <th>Ações</th>
              </tr>
            </thead>
            <tbody id="listaContatos"></tbody>
          </table>
        </div>
      </div>

      <!-- Modal de Cadastro/Edição -->
      <div class="modal fade" id="modalNewRegister" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="tituloModalContato">Criar novo cadastro</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <form id="formContato" class="row g-3">
                <div class="col-md-12">
                  <label for="nome" class="form-label">Nome</label>
                  <input type="text" class="form-control" id="nome" placeholder="Nome" />
                  <div class="invalid-feedback" id="erro-nome"></div>
                </div>

                <div class="col-md-6">
                  <label for="email" class="form-label">E-mail</label>
                  <input type="text" class="form-control" id="email" placeholder="E-mail" />
                  <div class="invalid-feedback" id="erro-email"></div>
                </div>

                <div class="col-md-6">
                  <label for="telefone" class="form-label">Telefone</label>
                  <input type="text" class="form-control" id="telefone" placeholder="Telefone" />
                  <div class="invalid-feedback" id="erro-telefone"></div>
                </div>

                <div class="col-md-6">
                  <label for="cidade" class="form-label">Cidade</label>
                  <input type="text" class="form-control" id="cidade" placeholder="Cidade" />
                  <div class="invalid-feedback" id="erro-cidade"></div>
                </div>

                <div class="col-md-6">
                  <label for="estado" class="form-label">Estado (UF)</label>
                  <input type="text" class="form-control" id="estado" placeholder="Estado (UF)" />
                  <div class="invalid-feedback" id="erro-estado"></div>
                </div>

                <div class="col-12">
                  <label for="categoria" class="form-label">Categoria</label>
                  <select class="form-select" id="categoria">
                    <option value="">Selecione</option>
                    <option value="Aluno">Aluno</option>
                    <option value="Responsável">Responsável</option>
                    <option value="Professor">Professor</option>
                    <option value="Funcionário">Funcionário</option>
                    <option value="Gestor">Gestor</option>
                  </select>
                  <div class="invalid-feedback" id="erro-categoria"></div>
                </div>

                <div class="col-12">
                  <button id="btnSubmitForm" type="submit" class="btn-cadastrar w-100">Cadastrar</button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="modalNewRegisterSucess" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Cadastro criado com sucesso!</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
              <button type="button" class="btn btn-success w-100" data-bs-dismiss="modal">Fechar</button>
            </div>
          </div>
        </div>
      </div>

      <div class="modal fade" id="modalNewRegisterDelete" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title">Excluir contato</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body text-center">
              <p class="mb-3">Tem certeza que deseja excluir este contato?</p>
              <button id="btnConfirmarExclusao" class="btn btn-danger w-100">
                Confirmar Exclusão
              </button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    function abrirModalNovoContato() {
      document.getElementById("tituloModalContato").innerText = "Criar novo cadastro";
      document.getElementById("btnSubmitForm").innerText = "Cadastrar";
      document.getElementById("formContato").removeAttribute("data-id");
    }

    $(document).ready(function () {
      $('#telefone').mask('(00) 00000-0000');
    });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="./js/app.js" type="module"></script>
</body>

</html>